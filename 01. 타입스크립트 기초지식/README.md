# 타입스크립트 기초 지식

> 타입스크립트는 마이크로소프트가 중심이 되어 개발을 추진하고 있는 오픈 소스 프로그래밍 언어입니다. 자바스크립트를 확장하는 형태로 설계돼 있으며 정적 타입 기능을 탑재한 `AltJS`입니다. 모던 프론트앤드 개발 표준이 되어가고 있습니다.

## 타입 스크립트 등장 배경

- 대규모의 웹 애플리케이션 개발에서 타입이 없는 자바스크립트는 많은 문제를 갖고 있습니다. 컴파일 시에 에러를 검출할 수 없으며, 실행 시 버그가 발생하기 쉬운 상황이었습니다. 특히 여러 사람이 함께 개발할 때는 타입이 없어 의도하지 않은 버그가 많이 발생했습니다. 2014년경, 자바나 C# 등을 참고로 자바스크립트의 기능을 확장한 정적 타입 언어 타입스크립트가 고안됐습니다.
- 타입스크립트는 정적 타입 언어로, 컴파일 시 에러 검출이나 타입에 의한 코드 안정성 향상 등을 기대할 수 있습니다. 일반적으로 버그를 늦게 발견할수록 비용에 미치는 영향이 커집니다. 타입스크립트에서는 컴파일 시 에러를 빠르게 발견할 수 있으며, 개발 비용을 낮출 수 있습니다. 그리고, 그 외에도 대규모의 웹 애플리케이션 개발에 필요한 기능도 제공합니다. 현재에는 당연하게 여겨지는 모듈의 구조도 타입스크립트에서는 빠르게 도입했습니다. 대규모 개발을 고려해 놓은 높은 모듈성을 가지고 진화했습니다.
- 다양한 `AltJS`들 중에서 타입스크립트가 패권을 차지한 이유로는 크게 다음 두 가지를 들 수 있습니다.
  - 개발 생산성이 높은 정적 타입 언어다.
  - 자바스크립트의 문법을 그대로 확장해 상위 호환성을 갖는다.
- 상위 호환이란 타입스크립트에서 자바스크립트는 그대로 작동한다는 의미입니다. 즉, 이제까지 자바스크립트로 작성한 대규모 애플리케이션을 그대로 이행하는 형태로 도입할 수 있습니다. 이러한 높은 친화성으로 자바스크립트에 관한 지식이 있다면 큰 비용을 들이지 않고 타입 스크립트를 도입할 수 있습니다.

## 타입스크립트와 자바스크립트의 차이

- 타입스크립트는 자바스크립트를 확장한 상위 호환 언어 입니다. 즉, 전혀 다른 언어가 아니라 자바스크립트의 코드는 그대로 타입스크립트의 코드로 읽을 수 있습니다.
- 예를 들어, 다음 자바스크립트 코드는 타입스크립트의 코드로서 작동합니다.

```javascript
function sayHello(firstName) {
  console.log('Hello ' + firstName)
}

let firstName = 'Hana'
sayHello(firstName)
```

- 그리고 위 자바스크립트 코드와 변수와 인수에 타입 정보를 부여한 타입스크립트 코드는 다음과 같습니다.

```javascript
function sayHello(firstName: string) {
  console.log('Hello ' + firstName)
}

let firstName: string = 'Hana'
sayHello(firstName)
```
- 타입스크립트 코드와 자바스크립트 코드에 큰 차이가 없음을 직관적으로 알 수 있습니다. 타입스크립트는 자바스크립트에 주로 다음 기능을 추가한 것입니다.
    - 타입 정의 
    - 인터페이스와 클래스
    - null/undefined-safe
    - 범용적인 클래스나 메서드 타입을 실현하는 제네릭(generic)
    - 편집기의 입력 자동완성
    - 그 외, ECMA에서 정의되어 있는 자바스크립트 최신 사양
- 특히, 대규모 개발에 적합한 많은 기능들을 확장했기 때문에, 복잡해지기 쉬운 모던 프런트앤드 현장에서는 타입스크립트를 사용하지 않을 이유가 없습니다.
- 타입스크립트로 작성된 소스 코드는 빌드 도구를 통해 최종적으로는 자바스크립트로 변환됩니다. 따라서 자바스크립트로 구현된 것에 비해 성능의 차이가 없고, 동시에 오래된 브라우저를 대상으로 한 트랜스파일도 가능합니다. 이 때문에, 실행 환경 등이 도입의 걸림돌이 되는 일은 거의 없습니다.
- 타입스크립트를 채용했을 때의 단점을 꼽는다면 다음을 들 수 있습니다. 
    - 프로젝트 규모에 따라 컴파일 시간이 걸린다.
    - 팀에 타입스크립트 경험자가 없는 경우, 도입을 위한 많은 학습 비용이 발생할 수도 있다.

## 타입스크립트 커맨드라인 도구를 사용한 컴파일
- 타입스크립트 실행 환경 구축에 관해 설명합니다.
- 먼저 공식 사이트에서 `Node.js`를 설치합니다. `Node.js`가 로컬 환경에 설치되면 패키지 관리 도구인 `npm`도 함께 설치됩니다. `npm`은 `Node.js`용 패키지 관리 도구입니다. 타입스크립트 컴파일 등을 커맨드라인에서 실행하기 위한 CLI 패키지도 `npm`으로 설치할 수 있습니다.
- 다음 `npm` 명령어로 타입스크립트 `CLI(tsc)`를 설치할 수 있습니다. 

```javascript
$ npm install -g typescript 
```

- 타입스크립트 컴파일을 실행하기 위한 `tsc` 명령어의 인수에 ts 파일을 지정합니다.
- 앞선 예제 코드를 `sayHello.ts`라는 이름의 파일로 저장하고, 커맨드라인에서 같은 디렉터리로 이동한 뒤 다음 명령어를 실행합니다. `--strictNullChecks`는 엄격한 체크를 수행하는 옵션입니다.

```typescript
$ tsc --strictNullChecks sayHello.ts
```

- 정상적으로 실행되면 같은 디렉터리에 `sayHello.js`라는 새로운 파일이 생성됩니다. 컴파일 에러가 발생하면 해당 에러의 내용이나 위치가 표시됩니다. 실행 전에 에러가 발생하는 것은 매우 큰 장점입니다. 코드 메이스의 규모가 클 수록 그 장점을 실감할 수 있습니다.
- 그리고 실제 웹 애플리케이션 개발에서는 `Next.js`같은 프레임워크가 컴파일을 실행해 줍니다. 일반적으로는 `tsc`명령어를 사용해 개별적으로 `.ts`파일을 컴파일하지 않아도 됩니다.
- 또한, 타입스크립트 코드를 시험할 때는 `TS Playground`라는 온라인 `REPL` 도구를 사용할 수 있습니다.