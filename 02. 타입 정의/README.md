# 타입 정의

- 여기에서는 타입스크립트의 가장 큰 기능이라고 할 수 있는 타입 기능에 관해 설명합니다. 타입스크립트는 자바스크립트 문법을 기본으로 하지만, 타입이나 클래스 등 일부 코드 작성법이 다릅니다.
- 타입스크립트에서는 변수나 인수명 뒤에 **: 타입**과 같이 타입 애너테이션(`Type Annotation`)이라 불리는 타입 정보를 붙여서 변수나 인수에 저장할 값을 제한할 수 있습니다, 그리고 타입 애너테이션은 변수 데이터 타입이 명확한 경우 등 일부 조건에서는 생략할 수도 있습니다.

```javascript
// firstName 뒤에 string 타입을 붙여, 문자열 이외의 값을 전달하지 못하게 할 수 있다.
function sayHello(firstName: string) {
  console.log('Hello ' + firstName)
}

let firstName: string = 'Hana'
sayHello(firstName)
```

- 타입 애너테이션에 반환할 값을 대입하면 타입스크립트 컴파일 시 에러가 발생합니다. 예를 들어 `string` 타입을 받는 것으로 정의한 코드에 `number` 타입의 변수를 대입하면 컴파일 시 다음과 같은 에러가 발생합니다.

```javascript
let age: number = 36
sayHello(age)
```

- 또 다른 타입 정의의 예를 소개합니다. 문자열을 정의하고, 그 변수에 대해 함수로 호출하면 에러가 발생합니다. 타입스크립트는 정적 타입으로 컴파일을 전제로 하는 언어이므로, 컴파일 에러를 통해 문제점을 파악할 수 있습니다.

```javascript
const message = 'hello!'

// 자바스크립트에는 실행 시에 에러가 발생하는 것에 비해, 타입스크립트에서는 컴파일 시에 다음과 같은 에러가 발생한다.
// error TS2349: This expression is not callable. Type 'String' has no call signatures.
message()
```

- 여기까지 소개한 예시들은 매우 간단한 것들입니다. 이것만으로는 타입스크립트의 장점을 느끼기 어려울 것입니다.
- UI의 폼이나 API를 경유해 받은 값을 확실하게 검사하지 않아 예상치 못한 에러가 발생하는 일은 실제 개발 환경에서도 일어납니다. 이런 문제는 타입을 사용해 종류를 제한/판별합으로써 대처할 수 있습니다. 타입스크립트에서는 문자열이나 숫자 타입뿐만 아니라 객체, 클래스, 함수 등에도 타입 정의 정보를 부여할 수 있습니다.
- 타입스크립트는 자바스크립트와 달리 타입에 묶인 변수의 전달을 수행하는 정적 타입 체크 기능을 통해 안전하게 구현을 할 수 있습니다.

### 변수

- 타입스크립트는 타입 정의 이외에는 자바크립트와 동일한 규칙으로 변수를 선언합니다.
- 변수 선언에는 `var`, `let`, `const`를 사용합니다. 변수명 뒤에 **: 타입**을 추가해 타입 애너테이션을 합니다(생략 가능). 타입스크립트의 변수는 자바스크립트와 마찬가지로 `var` 키워드를 사용해서 선언합니다. 스코프 규칙이나 대입 시 작동은 자바스크립트의 그것과 같습니다. ES6에서는 자바스크립트에 `let`과 `const`라는 키워드를 사용하는 두 가지 새로운 변수 선언이 도입됐습니다. 자바스크립트 수퍼셋인 타입스크립트 역시 이 새로운 타입의 변수 선언을 지원합니다.

```javascript
var 변수: 타입 = 값
let 변수: 타입 = 값
const 변수: 타입 = 값
let employeeName = 'John'
// 또는
let employeeName: string = 'John'
```

- `let`을 사용해 변수를 선언할 경우, var로 선언된 변수의 스코프가 해당 변수를 포함하는 함수에서까지 사용할 수 있는 반면, 블록 스코프로 선언된 변수는 해당 변수를 포함하는 블록 안에서만 사용할 수 있습니다.

```javascript
function calc(isSum: boolean) {
    let a = 100
    if (isSum) {
        // a가 정의된 안쪽의 블록 스코프 안의 사용이므로 에러가 발생하지 않는다. 
        let b = a + 1
        return b
    }

    // error TS2304: Cannot find name 'b'.
    // var로 정의한 경우는 에러가 발생하지 않지만, let으로 정의했을 때는 에러가 발생한다.
    return b
}
```

- const는 상수를 나타내는 이름 그대로, 값을 변경할 수 없는 상수를 선언합니다. 한번 값이 대입되면 다시 대입할 수 없습니다.
- const 변수는 let 변수와 같은 스코프 규칙을 갖습니다.

```javascript
const num: number = 100

// 값을 재대입하면 컴파일러 에러가 된다.
num = 200
```

- 현재의 웹 프런트앤드 개발에서는 주로 let, const를 사용합니다.


### 원시 타입